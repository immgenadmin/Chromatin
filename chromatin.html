<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<!-- <meta http-equiv="Cache-control" content="no-cache, no-store">
	<meta http-Equiv="Pragma" Content="no-cache">
	<meta http-Equiv="Expires" Content="-1"> -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	<title>Chromatin</title>
	
	<script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
	<script type='text/javascript' src="http://code.jquery.com/ui/1.11.4/jquery-ui.min.js"> </script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
	<!-- <script src="resources/bootstrap-treeview-1.2.0/src/js/bootstrap-treeview.js"></script> -->
	<!-- <script src="resources/dynatree/jquery/jquery.js" type="text/javascript"></script>
	<script src="resources/dynatree/jquery/jquery-ui.custom.js" type="text/javascript"></script> -->
	<script src="resources/dynatree/jquery/jquery.cookie.js" type="text/javascript"></script>
	<script src="resources/dynatree/src/jquery.dynatree.js" type="text/javascript"></script>
	<script src="resources/bootstrap-spinner/src/bootstrap-spinner.js" type="text/javascript"></script>
	<script src="resources/bootstrap-spinner/src/mousehold.js" type="text/javascript"></script>
	<script src="resources/typeahead.js/bloodhound.js" type="text/javascript"></script>
	<script src="resources/typeahead.js/typeahead.bundle.js" type="text/javascript"></script>
	<script src="resources/typeahead.js/typeahead.jquery.js" type="text/javascript"></script>
	<script src="resources/jquery-cookie-v1.4.1/jquery.cookie.js" type="text/javascript"></script>
	
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">	
	<link rel="stylesheet" type="text/css" href="chromatin.css">
	<link rel="stylesheet" href="http://code.jquery.com/ui/1.11.4/themes/ui-lightness/jquery-ui.min.css">
	<!-- <link rel="stylesheet" href="resources/bootstrap-treeview-1.2.0/src/css/bootstrap.css"> -->
	<link href="resources/dynatree/src/skin-vista/ui.dynatree.css" rel="stylesheet" type="text/css" id="skinSheet">
			
</head>

<body>
	<div class="masterhead"></div>
	<hr>
	
	<div class="container-fluid" style="width:80%;">
      
		<div class="row">
			
			<div class="col-xs-12">
				<br>
				<!--<label>ImmGen ATAC-Seq:</label>-->
				<ul class="nav nav-pills">
  				<li class="active"><a data-toggle="pill" href="#chromatin1_tab">ImmGen ATAC-Seq</a></li>
  				<!--<li><a data-toggle="pill" href="#chromatin2_tab">All Replicates</a></li>-->
  				<a href="http://www.immgen.org/databrowser/Tutorial/Chromatinhelp.html" target="_blank">
  				<img title="Help" border="0" align="left" src="images/QuestionMark.png" width="24" height="24">
  				</a>
  				</ul>
				
				<hr>
				<div class="tab-content">
  				
				<div id="chromatin1_tab" class="tab-pane fade in active">
  					
					<label>Select the populations of interest:</label>
					<div id="chromatin1_tree"></div>
				
  					<br>
  					<hr>
  					<div class="col-xs-6">
  					<label>Select the genes of interest: </label>
  					<div id="GeneList">
  					<input type="text" class="typeahead" id="Gene1" placeholder="Search Gene ...">
  					</div>
  					</div>
  					
  					<div class="col-xs-6">
  					<label>Distance around selected gene (kb):</label>
  					<div class="input-group" style="width:40%">
  						<span class="input-group-btn">
  							<button type="button" class="btn btn-default" data-value="-1" data-target="#spinner1" data-toggle="spinner">
  							<span class="glyphicon glyphicon-minus"></span>
  							</button>
  						</span>
  						<input type="text" data-ride="spinner" id="spinner1" class="form-control input-number" value="10" data-min="1" data-max="10000" style="text-align:center">
  						<span class="input-group-btn">
  							<button type="button" class="btn btn-default" data-value="1" data-target="#spinner1" data-toggle="spinner" data-on="mousehold">
  							<span class="glyphicon glyphicon-plus"></span>
  							</button>
  						</span>
  					</div>
  					</div>
  					
  					<br>
  					<br>
  					<br>
  					<hr>
  					<br>
  					<div class="col-xs-12">
  					<button type="button" class="btn btn-default" id="view_ucsc1" value="">View Data on UCSC Genome Browser</button>
    					<button type="button" class="btn btn-default" id="save_table1" value="">View Peak Table</button>
    					</div>
    					<!--<div class="col-xs-12">
    					<p></p>
    					<p><font color="red">* Please clear your browser's cookies if any problem.</font></p>
    					</div>-->
    					
    					<br>
    					<br>
  				</div>
  
  				<div id="chromatin2_tab" class="tab-pane fade">
    					
  					<label>Select the populations of interest:</label>
  					<div id="chromatin2_tree"></div>
    					
  					<br>
  					<hr>
  					<div class="col-xs-6">
  					<label>Select the genes of interest: </label>
  					<div id="GeneList">
  					<input type="text" class="typeahead" id="Gene2" placeholder="Search Gene ...">
  					</div>
  					</div>
  					
  					<div class="col-xs-6">
  					<label>Distance around selected gene (kb):</label>
  					<div class="input-group" style="width:30%">
  						<span class="input-group-btn">
  							<button type="button" class="btn btn-default" data-value="-1" data-target="#spinner2" data-toggle="spinner">
  							<span class="glyphicon glyphicon-minus"></span>
  							</button>
  						</span>
  						<input type="text" data-ride="spinner" id="spinner2" class="form-control input-number" value="10" data-min="1" data-max="10000" style="text-align:center">
  						<span class="input-group-btn">
  							<button type="button" class="btn btn-default" data-value="1" data-target="#spinner2" data-toggle="spinner" data-on="mousehold">
  							<span class="glyphicon glyphicon-plus"></span>
  							</button>
  						</span>
  					</div>
  					</div>
  					
  					<br>
  					<br>
  					<br>
  					<hr>
  					<br>
  					<div class="col-xs-12">
  					<button type="button" class="btn btn-default" id="view_ucsc2" value="">View Data on UCSC Genome Browser</button>
    					<button type="button" class="btn btn-default" id="save_table2" value="">View Peak Table</button>
    					</div>
    					<div class="col-xs-12">
    					<p></p>
    					<p><font color="red">* Please clear your browser's cookies if any problem.</font></p>
    					</div>
    					<br>
    					<br>
  				</div>
  				
  				</div>

  			</div>

			        
			
		</div>


	</div>
	<hr>
        <!-- Hidden <FORM> to submit the SVG data to the server, which will convert it to SVG/PDF/PNG downloadable file.
        The form is populated and submitted by the JavaScript below. -->
        <form id="svgform" method="post" action="../MyGeneSet/cgi-bin/download_IFN.cgi">
        <input type="hidden" id="output_format" name="output_format" value="">
        <input type="hidden" id="data" name="data" value="">
        <input type="hidden" name="Grp1" id="Grp1"></input><br>
        <input type="hidden" name="Grp2" id="Grp2"></input><br>
        </form>
        
        
	<script type="text/javascript">
	
		var treeData1 = [
		    {title: "Check all", isFolder: true, key: "check all", icon: false,
		     children: [
		
			 {title: "ab T Cells", isFolder: true, key: "ab T Cells", icon: false,
			  children: [
			      {title:"preT_DN1_Th", key: "preT_DN1_Th", icon: false, tooltip: "Population Name: preT_DN1_Th\nGroup Name: ab T cells\nLong Name: Thymic preT DN1\nDescription: 6 week old C57BL/6J mice sorted on  Lin-(CD4,CD8,CD11b,CD11c,CD19,TCRb,TCRgd,NK1.1,Gr1,Ter119)CD44hiCD117hiCD25-/lo\nOwner: Hide Yoshida"},
			      {title:"preT_DN2a_Th", key: "preT_DN2a_Th", icon: false, tooltip: "Population Name: preT_DN2a_Th\nGroup Name: ab T cells\nLong Name: Thymic preT DN2a\nDescription: 6 week old C57BL/6J mice sorted on  Lin-(CD4,CD8,CD11b,CD11c,CD19,TCRb,TCRgd,NK1.1,Gr1,Ter119)CD44hiCD117hiCD25hi\nOwner: Hide Yoshida"},
			      {title:"preT_DN2b_Th", key: "preT_DN2b_Th", icon: false, tooltip: "Population Name: preT_DN2b_Th\nGroup Name: ab T cells\nLong Name: Thymic preT DN2b\nDescription: 6 week old C57BL/6J mice sorted on  Lin-(CD4,CD8,CD11b,CD11c,CD19,TCRb,TCRgd,NK1.1,Gr1,Ter119)CD44hiCD117intCD25hi\nOwner: Hide Yoshida"},
			      {title:"preT_DN3_Th", key: "preT_DN3_Th", icon: false, tooltip: "Population Name: preT_DN3_Th\nGroup Name: ab T cells\nLong Name: Thymic preT DN3\nDescription: 6 week old C57BL/6J mice sorted on  Lin-(CD4,CD8,CD11b,CD11c,CD19,TCRb,TCRgd,NK1.1,Gr1,Ter119)CD44-CD25hi\nOwner: Hide Yoshida"},
			      {title:"T_DN4_Th", key: "T_DN4_Th", icon: false, tooltip: "Population Name: T_DN4_Th\nGroup Name: ab T cells\nLong Name: Thymic preT DN4\nDescription: 6 week old C57BL/6J mice sorted on  Lin-(CD4,CD8,CD11b,CD11c,CD19,TCRb,TCRgd,NK1.1,Gr1,Ter119)CD44-CD25-CD28+\nOwner: Hide Yoshida"},
			      {title:"T_ISP_Th", key: "T_ISP_Th", icon: false, tooltip: "Population Name: T_ISP_Th\nGroup Name: ab T cells\nLong Name: Intermediate Single-Positive Thymocytes\nDescription: 6 week old C57BL/6J mice sorted on CD4-CD8+TCR-/loCD24hi\nOwner: Hide Yoshida"},
			      {title:"T_DP_Th", key: "T_DP_Th", icon: false, tooltip: "Population Name: T_DP_Th\nGroup Name: ab T cells\nLong Name: Double Positive Thymocytes\nDescription: 6 week old C57BL/6J mice sorted on SSCsmallCD4+CD8+TCRbloCD69-Dump-\nOwner: Hide Yoshida"},
			      {title:"T_8_Th", key: "T_8_Th", icon: false, tooltip: "Population Name: T_8_Th\nGroup Name: ab T cells\nLong Name: CD8+ Thymocytes\nDescription: 6 week old C57BL/6J mice sorted on CD4-CD8+TCRbhiCD24int-Dump-\nOwner: Hide Yoshida"},
			      {title:"T_4_Th", key: "T_4_Th", icon: false, tooltip: "Population Name: T_4_Th\nGroup Name: ab T cells\nLong Name: CD4+ Thymocytes\nDescription: 6 week old C57BL/6J mice sorted on CD4+CD8-TCRbhiCD24int-Dump-\nOwner: Hide Yoshida"},
			      {title:"T_4_Nve_Fem_Sp", key: "T_4_Nve_Fem_Sp", icon: false, tooltip: "Population Name: T_4_Nve_Fem_Sp\nGroup Name: ab T cells\nLong Name: Female Splenic Naïve CD4+ T cells\nDescription: 6 week old C57BL/6J mice sorted on CD4+CD8-TCRbhiCD62LhiCD44loCD25-Dump-\nOwner: Andrew Rhoads"},
			      {title:"T_4_Nve_Sp", key: "T_4_Nve_Sp", icon: false, tooltip: "Population Name: T_4_Nve_Sp\nGroup Name: ab T cells\nLong Name: Splenic Naïve CD4+ T cells\nDescription: 6 week old C57BL/6J mice sorted on CD4+CD8-TCRbhiCD62LhiCD44loCD25-Dump-\nOwner: Andrew Rhoads"},
			      {title:"T_4_Sp_aCD3+CD40_18hr", key: "T_4_Sp_aCD3%2BCD40_18hr", icon: false, tooltip: "Population Name: T_4_Sp_aCD3+CD40_18hr\nGroup Name: ab T cells\nLong Name: Splenic Activated CD4+ Tcells, aCD3+CD40 18 hr\nDescription: 6 week old C57BL/6J mice sorted on CD4+CD8-TCRbhi-Dump-\nOwner: Hide Yoshida"},
			      {title:"T_8_Nve_Sp", key: "T_8_Nve_Sp", icon: false, tooltip: "Population Name: T_8_Nve_Sp\nGroup Name: ab T cells\nLong Name: Splenic Naïve CD8+ T cells\nDescription: 6 week old C57BL/6J mice sorted on CD4+CD8-TCRbhiCD62LhiCD44loDump-\nOwner: Hide Yoshida"},
			      {title:"T8_TN_P14_Sp", key: "T8_TN_P14_Sp", icon: false, tooltip: "Population Name: T8_TN_P14_Sp\nGroup Name: ab T cells\nLong Name: Splenic Triple Negative CD8+ P14 T cells\nDescription: 6 week old C57BL/6J mice sorted on CD8+CD44-CD4-MHCII-B220-Gr1-Ter119-\nOwner: Bingfei Yu"},
			      {title:"T8_MP_LCMV_d7_Sp", key: "T8_MP_LCMV_d7_Sp", icon: false, tooltip: "Population Name: T8_MP_LCMV_d7_Sp\nGroup Name: ab T cells\nLong Name: Splenic CD8+ Memory Precursor, LCMV d7\nDescription: 7 week old C57BL/6J mice sorted on CD8+KLRG1-CD127+CD45.1+CD4-MHCII-B220-Gr1-Ter119-\nOwner: Bingfei Yu"},
			      {title:"T8_TE_LCMV_d7_Sp", key: "T8_TE_LCMV_d7_Sp", icon: false, tooltip: "Population Name: T8_TE_LCMV_d7_Sp\nGroup Name: ab T cells\nLong Name: Splenic CD8+ Terminal Effector, LCMV d7\nDescription: 7 week old C57BL/6J mice sorted on CD4+CD8-TCRbhiCD62LhiCD44loDump-\nOwner: Bingfei Yu"},
			      {title:"T8_Tcm_LCMV_d180_Sp", key: "T8_Tcm_LCMV_d180_Sp", icon: false, tooltip: "Population Name: T8_Tcm_LCMV_d180_Sp\nGroup Name: ab T cells\nLong Name: Splenic CD8+ Central Memory, LCMV d180\nDescription: 32 week old C57BL/6J mice sorted on CD8+CD44+CD62L+CD45.1+CD4-MHCII-B220-Gr1-Ter119-\nOwner: Bingfei Yu"},
			      {title:"T8_Tem_LCMV_d180_Sp", key: "T8_Tem_LCMV_d180_Sp", icon: false, tooltip: "Population Name: T8_Tem_LCMV_d180_Sp\nGroup Name: ab T cells\nLong Name: Splenic CD8+ Effector Memory, LCMV d180\nDescription: 32 week old C57BL/6J mice sorted on CD8+KLRG1+CD127-CD45.1+CD4-MHCII-B220-Gr1-Ter119-\nOwner: Bingfei Yu"},
			      {title:"T8_IEL_LCMV_d7_Gut", key: "T8_IEL_LCMV_d7_Gut", icon: false, tooltip: "Population Name: T8_IEL_LCMV_d7_Gut\nGroup Name: ab T cells\nLong Name: Gut IEL CD8+ , LCMV d7\nDescription: 7 week old C57BL/6J mice sorted on CD8+CD45.1+CD4-MHCII-B220-Gr1-\nOwner: Bingfei Yu"},
			      {title:"Treg_4_25hi_Sp", key: "Treg_4_25hi_Sp", icon: false, tooltip: "Population Name: Treg_4_25hi_Sp\nGroup Name: ab T cells\nLong Name: Splenic CD25+ Tregs\nDescription: 6 week old C57BL/6J mice sorted on CD4+CD8-TCRbhiCD62LhiCD44loCD25hiDump-\nOwner: Hide Yoshida"},
			      {title:"Treg_4_FP3+_Nrplo_Co", key: "Treg_4_FP3%2B_Nrplo_Co", icon: false, tooltip: "Population Name: Treg_4_FP3+_Nrplo_Co\nGroup Name: ab T cells\nLong Name: Colonic FoxP3+ Nrplo Tregs\nDescription: 6 week old C57BL/6J mice sorted on Foxp3+CD4+TCRb+NrploDump\nOwner: Hide Yoshida"},
			      {title:"NKT_Sp", key: "NKT_Sp", icon: false, tooltip: "Population Name: NKT_Sp\nGroup Name: ab T cells\nLong Name: Splenic Natural Killer T cells\nDescription: 6 week old C57BL/6J mice sorted on [CD19-Gr1-Ter119-TCRgd-]TCRbMedCD1dTetramer(alphaGalCer)+\nOwner: Edy Kim"},
			      {title:"NKT_Sp_LPS_3hr", key: "NKT_Sp_LPS_3hr", icon: false, tooltip: "Population Name: NKT_Sp_LPS_3hr\nGroup Name: ab T cells\nLong Name: Splenic Natural Killer T cells, LPS 3hr\nDescription: 8 week old C57BL/6J mice sorted on [CD19-Gr1-Ter119-TCRgd-]TCRbMedCD1dTetramer(alphaGalCer)+\nOwner: Edy Kim"},
			      {title:"NKT_Sp_LPS_18hr", key: "NKT_Sp_LPS_18hr", icon: false, tooltip: "Population Name: NKT_Sp_LPS_18hr\nGroup Name: ab T cells\nLong Name: Splenic Natural Killer T cells, LPS 18hr\nDescription: 8 week old C57BL/6J mice sorted on [CD19-Gr1-Ter119-TCRgd-]TCRbMedCD1dTetramer(alphaGalCer)+\nOwner: Edy Kim"},
			      {title:"NKT_Sp_LPS_3d", key: "NKT_Sp_LPS_3d", icon: false, tooltip: "Population Name: NKT_Sp_LPS_3d\nGroup Name: ab T cells\nLong Name: Splenic Natural Killer T cells, LPS  3d\nDescription: 6 week old C57BL/6J mice sorted on [CD19-Gr1-Ter119-TCRgd-]TCRbMedCD1dTetramer(alphaGalCer)+\nOwner: Edy Kim"}
		
			  ]
			 },
			 
			 {title: "B Cells", isFolder: true, key: "B Cells", icon: false,
			  children: [
			      {title:"proB_CLP_BM", key: "proB_CLP_BM", icon: false, tooltip: "Population Name: proB_CLP_BM\nGroup Name: B cells\nLong Name: Bone Marrow Common Lymphoid Progenitor\nDescription: 6 week old C57BL/6J mice sorted on LIN-CD93+CD117+IL7Ra+CD45R-\nOwner: Susan Shinton"},
			      {title:"proB_FrA_BM", key: "proB_FrA_BM", icon: false, tooltip: "Population Name: proB_FrA_BM\nGroup Name: B cells\nLong Name: Bone Marrow Fr. A (Pre-Pro-B)\nDescription: 6 week old C57BL/6J mice sorted on LIN-CD93+CD117+IL7Ra+CD45R+\nOwner: Susan Shinton"},
			      {title:"proB_FrBC_BM", key: "proB_FrBC_BM", icon: false, tooltip: "Population Name: proB_FrBC_BM\nGroup Name: B cells\nLong Name: Bone Marrow Fr. BC (Pro-B)\nDescription: 6 week old C57BL/6J mice sorted on CD93+IgM-CD19+CD43+HSA+\nOwner: Susan Shinton"},
			      {title:"preB_FrD_BM", key: "preB_FrD_BM", icon: false, tooltip: "Population Name: preB_FrD_BM\nGroup Name: B cells\nLong Name: Bone Marrow Fr. D (small pre-B)\nDescription: 6 week old, C57BL/6J mice sorted on CD93+IgM-CD19+CD43-HSA+\nOwner: Susan Shinton"},
			      {title:"B_FrE_BM", key: "B_FrE_BM", icon: false, tooltip: "Population Name: B_FrE_BM\nGroup Name: B cells\nLong Name: Bone Marrow Fr. E (newly formed B)\nDescription: 6 week old C57BL/6J mice sorted on CD93+IgM+CD19+CD43-HSA+\nOwner: Susan Shinton"},
			      {title:"B1b_PC", key: "B1b_PC", icon: false, tooltip: "Population Name: B1b_PC\nGroup Name: B cells\nLong Name: Peritoneal B1b\nDescription: 6 week old C57BL/6J mice sorted on CD19+CD45R+IgM++CD93-CD23-CD43+CD5-\nOwner: Susan Shinton"},
			      {title:"B_Sp", key: "B_Sp", icon: false, tooltip: "Population Name: B_Sp\nGroup Name: B cells\nLong Name: Splenic  B cells\nDescription: 6 week old C57BL/6J mice sorted on CD19+Igm+TCRb-\nOwner: Andrew Rhoads"},
			      {title:"B_Fem_Sp", key: "B_Fem_Sp", icon: false, tooltip: "Population Name: B_Fem_Sp\nGroup Name: B cells\nLong Name: Female Splenic  B cells\nDescription: 6 week old C57BL/6J mice sorted on CD19+Igm+TCRb-\nOwner: Andrew Rhoads"},
			      {title:"B_T1_Sp", key: "B_T1_Sp", icon: false, tooltip: "Population Name: B_T1_Sp\nGroup Name: B cells\nLong Name: Splenic T1 \nDescription: 6 week old C57BL/6J mice sorted on CD19+CD45R+IgM++CD93+CD23-\nOwner: Susan Shinton"},
			      {title:"B_T2_Sp", key: "B_T2_Sp", icon: false, tooltip: "Population Name: B_T2_Sp\nGroup Name: B cells\nLong Name: Spleinc T2 \nDescription: 6 week old C57BL/6J mice sorted on CD19+CD45R+IgM++CD93+CD23+\nOwner: Susan Shinton"},
			      {title:"B_T3_Sp", key: "B_T3_Sp", icon: false, tooltip: "Population Name: B_T3_Sp\nGroup Name: B cells\nLong Name: Splenic T3 \nDescription: 6 week old C57BL/6J mice sorted on CD19+CD45R+IgM+CD93+CD23+\nOwner: Susan Shinton"},
			      {title:"B_Fo_Sp", key: "B_Fo_Sp", icon: false, tooltip: "Population Name: B_Fo_Sp\nGroup Name: B cells\nLong Name: Splenic Follicular \nDescription: 6 week old C57BL/6J mice sorted on CD19+CD45R+IgM+CD93-CD23+CD43-CD5-\nOwner: Susan Shinton"},
			      {title:"B_MZ_Sp", key: "B_MZ_Sp", icon: false, tooltip: "Population Name: B_MZ_Sp\nGroup Name: B cells\nLong Name: Splenic Marginal Zone \nDescription: 6 week old C57BL/6J mice sorted on CD19+CD45R+IgM++CD93-CD23-CD21/35++\nOwner: Susan Shinton"},
			      {title:"B_mem_Sp", key: "B_mem_Sp", icon: false, tooltip: "Population Name: B_mem_Sp\nGroup Name: B cells\nLong Name: Splenic Memory  \nDescription: 6 week old C57BL/6J mice sorted on CD19+B220+IgD-Fas-CD38+IgG+  \nOwner: Julie Tellier"},
			      {title:"B_GC_CB_Sp", key: "B_GC_CB_Sp", icon: false, tooltip: "Population Name: B_GC_CB_Sp\nGroup Name: B cells\nLong Name: Splenic  Germinal Center Centroblasts\nDescription: 6 week old C57BL/6J mice sorted on CD19+B220+IgD-Fas+CD38-CXCR4hi CD86lo\nOwner: Julie Tellier"},
			      {title:"B_GC_CC_Sp", key: "B_GC_CC_Sp", icon: false, tooltip: "Population Name: B_GC_CC_Sp\nGroup Name: B cells\nLong Name: Splenic Germinal Center Centrocytes\nDescription: 6 week old C57BL/6J mice sorted on CD19+B220+IgD-Fas+CD38-CXCR4lo CD86hi\nOwner: Julie Tellier"},
			      {title:"B_PB_Sp", key: "B_PB_Sp", icon: false, tooltip: "Population Name: B_PB_Sp\nGroup Name: B cells\nLong Name: Splenic  Plasmablasts\nDescription: 6 week old C57BL/6J BLIMP1-GFP mice sorted on GFPlo CD138+ MHCIIhi (dump: NK1.1- TCRb- Gr1- CD11b-)\nOwner: Julie Tellier"},
			      {title:"B_PC_BM", key: "B_PC_BM", icon: false, tooltip: "Population Name: B_PC_BM\nGroup Name: B cells\nLong Name: Bone Marrow Plasma cells\nDescription: 6 week old C57BL/6J BLIMP1-GFP mice sorted on GFPhi CD138+ MHCIIlo (dump: NK1.1- TCRb- Gr1- CD11b-)\nOwner: Julie Tellier"},
			      {title:"B_PC_Sp", key: "B_PC_Sp", icon: false, tooltip: "Population Name: B_PC_Sp\nGroup Name: B cells\nLong Name: Splenic Plasma cells\nDescription: 6 week old C57BL/6J BLIMP1-GFP mice sorted on GFPhi CD138+ MHCIIlo (dump: NK1.1- TCRb- Gr1- CD11b-)\nOwner: Julie Tellier"}
			      
			  ]
			 },
			 
			 {title: "Dendritic Cells", isFolder: true, key: "Dendritic Cells", icon: false,
			  children: [			      
			      {title:"DC_4+_Sp", key: "DC_4%2B_Sp", icon: false, tooltip: "Population Name: DC_4+_Sp\nGroup Name: Dendritic cells\nLong Name: Splenic CD4+\nDescription: 6 week old C57BL/6J mice sorted on CD45+ MHCII+ CD11c+ CD8- CD4+\nOwner: Barbara Maier & Stefan Jordan"},
			      {title:"DC_8+_Sp", key: "DC_8%2B_Sp", icon: false, tooltip: "Population Name: DC_8+_Sp\nGroup Name: Dendritic cells\nLong Name: Spleenic CD8+ \nDescription: 6 week old C57BL/6J mice sorted on CD45+ MHCII+ CD11c+ CD8+ CD4-\nOwner: Barbara Maier & Stefan Jordan"},
			      {title:"DC_pDC_Sp", key: "DC_pDC_Sp", icon: false, tooltip: "Population Name: DC_pDC_Sp\nGroup Name: Dendritic cells\nLong Name: Splenic Plasmacytoid\nDescription: 6 week old C57BL/6J mice sorted on CD45lo CD11b+\nOwner: Aleksandra Wroblewska"},
			      {title:"DC_103+11b-_SI", key: "DC_103%2B11b-_SI", icon: false, tooltip: "Population Name: DC_103+11b-_SI\nGroup Name: Dendritic cells\nLong Name: Small Intestine CD103+ CD11b-  \nDescription: 6 week old C57BL/6J mice sorted on CD45+ MHCII+ CD11c+/loCD64-CD103+CD11b-\nOwner: Aleksey Chudnovskiy & Arthur Mortha"},
			      {title:"DC_103+11b+_SI", key: "DC_103%2B11b%2B_SI", icon: false, tooltip: "Population Name: DC_103+11b+_SI\nGroup Name: Dendritic cells\nLong Name: Small Intestine CD103+ CD11b+ \nDescription: 6 week old C57BL/6J mice sorted on CD45+ MHCII+ CD11c+/loCD64+CD103-CD11b+\nOwner: Aleksey Chudnovskiy & Arthur Mortha"}
			  ]
			 },
			 
			 {title: "gd T Cells", isFolder: true, key: "gd T Cells", icon: false,
			  children: [
			      {title:"Tgd_g1_1+d1_24a+_Th", key: "Tgd_g1_1%2Bd1_24a%2B_Th", icon: false, tooltip: "Population Name: Tgd_g1_1+d1_24a+_Th\nGroup Name: gd T cells\nLong Name: Vg1.1+  Scart2-  immature thymocytes\nDescription: 6 week old C57BL/6J mice sorted on TCRvg1.1+TCRd+CD24hiScart2-CD4-CD8-\nOwner: Yilin Qi"},
			      {title:"Tgd_g2+d1_24a+_Th", key: "Tgd_g2%2Bd1_24a%2B_Th", icon: false, tooltip: "Population Name: Tgd_g2+d1_24a+_Th\nGroup Name: gd T cells\nLong Name: Vg2+ Scart2-  immature thymocytes\nDescription: 6 week old C57BL/6J mice sorted on TCRvg2+TCRd+CD24hiScart2-CD4-CD8-\nOwner: Yilin Qi"},
			      {title:"Tgd_g2+d17_24a+_Th", key: "Tgd_g2%2Bd17_24a%2B_Th", icon: false, tooltip: "Population Name: Tgd_g2+d17_24a+_Th\nGroup Name: gd T cells\nLong Name: Vg2+ Scart2+ immature thymocytes\nDescription: 6 week old C57BL/6J mice sorted on TCRvg2+TCRd+CD24hiScart2+CD4-CD8-\nOwner: Yilin Qi"},
			      {title:"Tgd_g1_1+d1_LN", key: "Tgd_g1_1%2Bd1_LN", icon: false, tooltip: "Population Name: Tgd_g1_1+d1_LN\nGroup Name: gd T cells\nLong Name: Vg1.1+ CD27+.LN \nDescription: 6 week old C57BL/6J mice sorted on TCRvg1.1+TCRd+CD24-CD27+CD4-CD8-\nOwner: Yilin Qi"},
			      {title:"Tgd_g2+d1_LN", key: "Tgd_g2%2Bd1_LN", icon: false, tooltip: "Population Name: Tgd_g2+d17_LN\nGroup Name: gd T cells\nLong Name: Vg2+ CD27neg.LN \nDescription: 6 week old C57BL/6J mice sorted on TCRvg2+TCRd+CD24-CD27-CD4-CD8-\nOwner: Yilin Qi"},
			      {title:"Tgd_g2+d17_LN", key: "Tgd_g2%2Bd17_LN", icon: false, tooltip: "Population Name: Tgd_g2+d1_LN\nGroup Name: gd T cells\nLong Name: Vg2+ CD27+.LN \nDescription: 6 week old C57BL/6J mice sorted on TCRvg2+TCRd+CD24-CD27+CD4-CD8-\nOwner: Yilin Qi"},
			      {title:"Tgd_Sp", key: "Tgd_Sp", icon: false, tooltip: "Population Name: Tgd_Sp\nGroup Name: gd T cells\nLong Name: Total Splenic gdT cells\nDescription: 6 week old C57BL/6J mice sorted on TCRd+CD3+CD24-CD4-CD8-\nOwner: Yilin Qi"}
			  ]
			 },
			 
			 {title: "Granulocytes", isFolder: true, key: "Granulocytes", icon: false,
			  children: [
			      {title:"GN_BM", key: "GN_BM", icon: false, tooltip: "Population Name: GN_BM\nGroup Name: Granulocytes\nLong Name: Bone Marrow Neutrophil\nDescription: 6 week old C57BL/6J mice sorted on CD11b+ Ly6G+\nOwner: Andrew Rhoads"},
			      {title:"GN_Sp", key: "GN_Sp", icon: false, tooltip: "Population Name: GN_Sp\nGroup Name: Granulocytes\nLong Name: Splenic Neutrophil\nDescription: 6 week old C57BL/6J mice sorted on CD11b+ Ly6G+\nOwner: Andrew Rhoads"},
			      {title:"GN_Thio_PC", key: "GN_Thio_PC", icon: false, tooltip: "Population Name: GN_Thio_PC\nGroup Name: Granulocytes\nLong Name: Thio-induced Peritoneal Neutrophil\nDescription: 6 week old C57BL/6J mice sorted on CD11b+ Ly6G+\nOwner: Hide Yoshida"}
			  ]
			 },
			 
			 {title: "Innate Lymphocytes", isFolder: true, key: "Innate Lymphocytes", icon: false,
			  children: [
			      {title:"ILC2_SI", key: "ILC2_SI", icon: false, tooltip: "Population Name: ILC2_SI\nGroup Name: Innate Lymphocytes\nLong Name: ST2+ ILC2 siLP\nDescription: 6 week old C57BL/6J mice sorted on CD45+ CD3-CD19-CD127+KLRG1+ ST2+\nOwner: Michelle Robinette"},
			      {title:"ILC3_CCR6+_SI", key: "ILC3_CCR6%2B_SI", icon: false, tooltip: "Population Name: ILC3_CCR6+_SI\nGroup Name: Innate Lymphocytes\nLong Name: Lamina Propia CCR6+ ILC3 \nDescription: 6 week old C57BL/6J mice sorted on CD45lo  CD3-CD19- NK1.1- Thy1+ NKp46- CCR6+\nOwner: Michelle Robinette"},
			      {title:"ILC3_NKp46-CCR6-_SI", key: "ILC3_NKp46-CCR6-_SI", icon: false, tooltip: "Population Name: ILC3_NKp46-CCR6-_SI\nGroup Name: Innate Lymphocytes\nLong Name: Lamina Propia DN ILC3 \nDescription: 6 week old C57BL/6J mice sorted on CD45lo CD3-CD19- NK1.1- Thy1+ NKp46- CCR6-\nOwner: Michelle Robinette"},
			      {title:"ILC3_NKp46+_SI", key: "ILC3_NKp46%2B_SI", icon: false, tooltip: "Population Name: ILC3_NKp46+_SI\nGroup Name: Innate Lymphocytes\nLong Name: Lamina Propia NKp46+ ILC3 \nDescription: 6 week old C57BL/6J mice sorted on CD45lo  CD3-CD19- NK1.1- Thy1+ NKp46+ CCR6-\nOwner: Michelle Robinette"},
			      {title:"NK_27-11b+_BM", key: "NK_27-11b%2B_BM", icon: false, tooltip: "Population Name: NK_27-11b+_BM\nGroup Name: Innate Lymphocytes\nLong Name: Bone Marrow CD27- CD11b+ Natural Killer\nDescription: 6 week old C57BL/6J mice sorted on CD3-CD19-NK1.1+ CD127-CD51-CD49a- DX5+CD11b+CD27-\nOwner: Tsukasa Nabekura"},
			      {title:"NK_27+11b-_BM", key: "NK_27%2B11b-_BM", icon: false, tooltip: "Population Name: NK_27+11b-_BM\nGroup Name: Innate Lymphocytes\nLong Name: Bone Marrow CD27+ CD11b- Natural Killer\nDescription: 6 week old C57BL/6J mice sorted on CD3-CD19-NK1.1+ CD127-CD51-CD49a- DX5+CD11b-CD27+\nOwner: Tsukasa Nabekura"},
			      {title:"NK_27+11b+_BM", key: "NK_27%2B11b%2B_BM", icon: false, tooltip: "Population Name: NK_27+11b+_BM\nGroup Name: Innate Lymphocytes\nLong Name: Bone Marrow CD27+ CD11b+ Natural Killer\nDescription: 6 week old C57BL/6J mice sorted on CD3-CD19-NK1.1+ CD127-CD51-CD49a- DX5+CD11b+CD27+\nOwner: Tsukasa Nabekura"},
			      {title:"NK_27-11b+_Sp", key: "NK_27-11b%2B_Sp", icon: false, tooltip: "Population Name: NK_27-11b+_Sp\nGroup Name: Innate Lymphocytes\nLong Name: Splenic CD27- CD11b+ Natural Killer\nDescription: 6 week old C57BL/6J mice sorted on CD3-CD19-NK1.1+ CD127-CD51-CD49a- DX5+CD11b+CD27-\nOwner: Tsukasa Nabekura"},
			      {title:"NK_27+11b-_Sp", key: "NK_27%2B11b-_Sp", icon: false, tooltip: "Population Name: NK_27+11b-_Sp\nGroup Name: Innate Lymphocytes\nLong Name: Splenic CD27+ CD11b- Natural Killer\nDescription: 6 week old C57BL/6J mice sorted on CD3-CD19-NK1.1+ CD127-CD51-CD49a- DX5+CD11b-CD27+\nOwner: Tsukasa Nabekura"},
			      {title:"NK_27+11b+_Sp", key: "NK_27%2B11b%2B_Sp", icon: false, tooltip: "Population Name: NK_27+11b+_Sp\nGroup Name: Innate Lymphocytes\nLong Name: Splenic CD27+ CD11b+ Natural Killer\nDescription: 6 week old C57BL/6J mice sorted on CD3-CD19-NK1.1+ CD127-CD51-CD49a- DX5+CD11b+CD27+\nOwner: Tsukasa Nabekura"}
			  ]
			 },
			 
			 {title: "Macrophages", isFolder: true, key: "Macrophages", icon: false,
			  children: [
			      {title:"MF_PC", key: "MF_PC", icon: false, tooltip: "Population Name: MF_PC\nGroup Name: Macrophages\nLong Name: Peritoneal Macrophages\nDescription: 6 week old C57BL/6J mice sorted on F4/80+ICAM2+CD5-CD19-CD43-\nOwner: Andrew Rhoads"},
			      {title:"MF_Fem_PC", key: "MF_Fem_PC", icon: false, tooltip: "Population Name: MF_Fem_PC\nGroup Name: Macrophages\nLong Name: Female Peritoneal Macrophages\nDescription: 6 week old C57BL/6J mice sorted on F4/80+ICAM2+CD5-CD19-CD43-\nOwner: Andrew Rhoads"},
			      {title:"MF_226+II+480lo_PC", key: "MF_226%2BII%2B480lo_PC", icon: false, tooltip: "Population Name: MF_226+II+480lo_PC\nGroup Name: Macrophages\nLong Name: Peritoneal Small Macrophages\nDescription: 6 week old C57BL/6J mice sorted on CD115+CD11b+F4/80loCD102loMHCII+CD226+\nOwner: Kiwook Kim"},
			      {title:"MF_102+480+_PC", key: "MF_102%2B480%2B_PC", icon: false, tooltip: "Population Name: MF_102+480+_PC\nGroup Name: Macrophages\nLong Name: Peritoneal Large Macrophages\nDescription: 6 week old C57BL/6J mice sorted on CD115+CD11b+F4/80+CD102+MHCIIloCD226-\nOwner: Kiwook Kim"},
			      {title:"MF_RP_Sp", key: "MF_RP_Sp", icon: false, tooltip: "Population Name: MF_RP_Sp\nGroup Name: Macrophages\nLong Name: Red Pulp Macrophages\nDescription: 6 week old C57BL/6J mice sorted on Mertk+ CD64+ CD11blo F4/80+\nOwner: Kiwook Kim"},
			      {title:"MF_Alv_Lu", key: "MF_Alv_Lu", icon: false, tooltip: "Population Name: MF_Alv_Lu\nGroup Name: Macrophages\nLong Name: Alveolar Macrophages\nDescription: 6 week old C57BL/6J mice sorted on CD45+ CD11c+ SiglecF+\nOwner: Barbara Maier & Stefan Jordan"},
			      {title:"MF_pIC_Alv_Lu", key: "MF_pIC_Alv_Lu", icon: false, tooltip: "Population Name: MF_pIC_Alv_Lu\nGroup Name: Macrophages\nLong Name: Alveolar Macrophages, Poly IC\nDescription: 6 week old C57BL/6J mice sorted on CD45+ CD11c+ SiglecF+\nOwner: Barbara Maier & Stefan Jordan"},
			      {title:"MF_microglia_CNS", key: "MF_microglia_CNS", icon: false, tooltip: "Population Name: MF_microglia_CNS\nGroup Name: Macrophages\nLong Name: Brain Microglia\nDescription: 6 week old C57BL/6J mice sorted on CD19-CD3-Ly6G-CD45loCD11b+ CD64+ F4/80loCD206-\nOwner: Kiwook Kim"},
			      {title:"MF_SI", key: "MF_SI", icon: false, tooltip: "Population Name: MF_SI\nGroup Name: Macrophages\nLong Name: Lamina Propia Macrophages\nDescription: 6 week old C57BL/6J mice sorted on CD45+CD3–B220–MHCII+CD11c+CD103–CD11b+CD8–CD64+CX3Cr1+ \nOwner: Aleksey Chudnovskiy & Arthur Mortha"}
			  ]
			 },
			 
			 {title: "Monocytes", isFolder: true, key: "Monocytes", icon: false,
		          children: [
		
			      {title:"Mo_6C+II-_Bl", key:"Mo_6C%2BII-_Bl", icon: false, tooltip: "Population Name: Mo_6C+II-_Bl\nGroup Name: Monocytes\nLong Name: Ly6Chi blood Monocytes\nDescription: 6 week old C57BL/6J mice sorted on B220-CD3-Ly6G-CD45+CD115+CD11b+Ly6C+\nOwner: Kiwook Kim"},
			      {title:"Mo_6C-II-_Bl", key:"Mo_6C-II-_Bl", icon: false, tooltip: "Population Name: Mo_6C-II-_Bl\nGroup Name: Monocytes\nLong Name: Ly6Clo blood Monocytes\nDescription: 6 week old C57BL/6J mice sorted on B220-CD3-Ly6G-CD45+CD115+CD11b+Ly6C-\nOwner: Kiwook Kim"}
		
			  ]},
			  
			  {title: "Stem Cells", isFolder: true, key: "Stem Cells", icon: false,
			  children: [
			      {title:"LTHSC_34-_BM", key: "LTHSC_34-_BM", icon: false, tooltip: "Population Name: LTHSC_34-_BM\nGroup Name: Stem Cells\nLong Name: \nDescription: 6 week old C57BL/6J mice sorted on Lin-Sca1+ckit+CD135-CD150+CD48-CD34-\nOwner: Amy Wagers"},
			      {title:"LTHSC_34+_BM", key: "LTHSC_34%2B_BM", icon: false, tooltip: "Population Name: LTHSC_34+_BM\nGroup Name: Stem Cells\nLong Name: \nDescription: 6 week old C57BL/6J mice sorted on Lin-Sca1+ckit+CD135-CD150+CD48-CD34+\nOwner: Amy Wagers"},
			      {title:"STHSC_150-_BM", key: "STHSC_150-_BM", icon: false, tooltip: "Population Name: STHSC_150-_BM\nGroup Name: Stem Cells\nLong Name: \nDescription: 6 week old C57BL/6J mice sorted on Lin-Sca1+ckit+CD135-CD150-CD48-\nOwner: Amy Wagers"},
			      {title:"MMP3_48+_BM", key: "MMP3_48%2B_BM", icon: false, tooltip: "Population Name: MMP3_48+_BM\nGroup Name: Stem Cells\nLong Name: \nDescription: 6 week old C57BL/6J mice sorted on Lin-Sca1+ckit+CD135-CD150-CD48+\nOwner: Amy Wagers"},
			      {title:"MMP4_135+_BM", key: "MMP4_135%2B_BM", icon: false, tooltip: "Population Name: MMP4_135+_BM\nGroup Name: Stem Cells\nLong Name: \nDescription: 6 week old C57BL/6J mice sorted on Lin-Sca1+ckit+CD135+\nOwner: Amy Wagers"}
		
			  ]
			 },
			 
			 {title: "Stromal Cells", isFolder: true, key: "Stromal Cells", icon: false,
		          children: [
		
			      {title:"Ep_MEChi_Th", key:"Ep_MEChi_Th", icon: false, tooltip: "Population Name: Ep_MEChi_Th\nGroup Name: Stromal Cells\nLong Name: Thymic Medullary Epithelial cells, MHCIIhi\nDescription: 6 week old C57BL/6J mice sorted on CD45-Ly51loMHC-IIhiEPCAMhi\nOwner: Hide Yoshida"},
		              {title:"BEC_SLN", key:"BEC_SLN", icon: false, tooltip: "Population Name: BEC_SLN\nGroup Name: Stromal Cells\nLong Name: Subcutaneous Lymph Node Blood Endothelial Cell\nDescription: 6 week old C57BL/6J mice sorted on CD45- CD31+ PDPN- PNAd+\nOwner: Claudia Dominguez"},
			      {title:"FRC_CD140a+_Madcam-_CD35-_SLN", key:"FRC_CD140a%2B_Madcam-_CD35-_SLN", icon: false, tooltip: "Population Name: FRC_CD140a+_Madcam-_CD35-_SLN\nGroup Name: Stromal Cells\nLong Name: Subcutaneous Lymph Node Fibroblastic Reticular Cell\nDescription: 6 week old C57BL/6J mice sorted on CD45- CD31- CD35- MadCAM- PDPN+ CD140+\nOwner: Claudia Dominguez"},
			      {title:"LEC_SLN", key:"LEC_SLN", icon: false, tooltip: "Population Name: LEC_SLN\nGroup Name: Stromal Cells\nLong Name: Subcutaneous Lymph Node Lymphatic Endothelial Cell\nDescription: 6 week old C57BL/6J mice sorted on CD45- CD31+ PDPN+\nOwner: Claudia Dominguez"},
			      {title:"IAP_SLN", key:"IAP_SLN", icon: false, tooltip: "Population Name: IAP_SLN\nGroup Name: Stromal Cells\nLong Name: Subcutaneous Lymph Node\nDescription: 6 week old C57BL/6J mice sorted on CD45- CD31- PDPN- ITGA7+\nOwner: Claudia Dominguez"}
			  ]}
		
		         
		     ] 
		    }
		
		];

		var treeData2 = [
		    {title: "Check all", isFolder: true, key: "check all", icon: false,
		     children: [
		
			 {title: "ab T cells", isFolder: true, key: "ab T cells", icon: false,
			  children: [
			      {title:"preT_DN1_Th_rep1", key: "preT_DN1_Th_rep1", icon: false},
			      {title:"preT_DN1_Th_rep2", key: "preT_DN1_Th_rep2", icon: false},
			      {title:"preT_DN2a_Th_rep1", key: "preT_DN2a_Th_rep1", icon: false},
			      {title:"preT_DN2a_Th_rep2", key: "preT_DN2a_Th_rep2", icon: false},
			      {title:"preT_DN2b_Th_rep1", key: "preT_DN2b_Th_rep1", icon: false},
			      {title:"preT_DN2b_Th_rep2", key: "preT_DN2b_Th_rep2", icon: false},
			      {title:"preT_DN3_Th_rep2", key: "preT_DN3_Th_rep2", icon: false},
			      {title:"preT_DN3_Th_rep4", key: "preT_DN3_Th_rep4", icon: false},
			      {title:"T_4_Nve_Fem_Sp_rep1", key: "T_4_Nve_Fem_Sp_rep1", icon: false},
			      {title:"T_4_Nve_Fem_Sp_rep2", key: "T_4_Nve_Fem_Sp_rep2", icon: false},
			      {title:"T_4_Nve_Sp_rep1", key: "T_4_Nve_Sp_rep1", icon: false},
			      {title:"T_4_Nve_Sp_rep2", key: "T_4_Nve_Sp_rep2", icon: false},
			      {title:"T_4_Sp_aCD3+CD40_18hr_rep1", key: "T_4_Sp_aCD3%2BCD40_18hr_rep1", icon: false},
			      {title:"T_4_Sp_aCD3+CD40_18hr_rep2", key: "T_4_Sp_aCD3%2BCD40_18hr_rep2", icon: false},
			      {title:"T_4_Th_rep1", key: "T_4_Th_rep1", icon: false},
			      {title:"T_4_Th_rep2", key: "T_4_Th_rep2", icon: false},
			      {title:"T8_IEL_LCMV_d7_Gut_rep1", key: "T8_IEL_LCMV_d7_Gut_rep1", icon: false},
			      {title:"T8_IEL_LCMV_d7_Gut_rep2", key: "T8_IEL_LCMV_d7_Gut_rep2", icon: false},
			      {title:"T8_MP_LCMV_d7_Sp_rep1", key: "T8_MP_LCMV_d7_Sp_rep1", icon: false},
			      {title:"T8_MP_LCMV_d7_Sp_rep2", key: "T8_MP_LCMV_d7_Sp_rep2", icon: false},
			      {title:"T_8_Nve_Sp_rep1", key: "T_8_Nve_Sp_rep1", icon: false},
			      {title:"T_8_Nve_Sp_rep3", key: "T_8_Nve_Sp_rep3", icon: false},
			      {title:"T8_Tcm_LCMV_d180_Sp_rep1", key: "T8_Tcm_LCMV_d180_Sp_rep1", icon: false},
			      {title:"T8_Tcm_LCMV_d180_Sp_rep2", key: "T8_Tcm_LCMV_d180_Sp_rep2", icon: false},
			      {title:"T8_TE_LCMV_d7_Sp_rep1", key: "T8_TE_LCMV_d7_Sp_rep1", icon: false},
			      {title:"T8_TE_LCMV_d7_Sp_rep2", key: "T8_TE_LCMV_d7_Sp_rep2", icon: false},
			      {title:"T8_Tem_LCMV_d180_Sp_rep1", key: "T8_Tem_LCMV_d180_Sp_rep1", icon: false},
			      {title:"T8_Tem_LCMV_d180_Sp_rep2", key: "T8_Tem_LCMV_d180_Sp_rep2", icon: false},
			      {title:"T_8_Th_rep1", key: "T_8_Th_rep1", icon: false},
			      {title:"T_8_Th_rep2", key: "T_8_Th_rep2", icon: false},
			      {title:"T8_TN_P14_Sp_rep1", key: "T8_TN_P14_Sp_rep1", icon: false},
			      {title:"T8_TN_P14_Sp_rep2", key: "T8_TN_P14_Sp_rep2", icon: false},
			      {title:"T_DN4_Th_rep1", key: "T_DN4_Th_rep1", icon: false},
			      {title:"T_DN4_Th_rep2", key: "T_DN4_Th_rep2", icon: false},
			      {title:"T_DP_Th_rep3", key: "T_DP_Th_rep3", icon: false},
			      {title:"T_DP_Th_rep4", key: "T_DP_Th_rep4", icon: false},
			      {title:"T_ISP_Th_rep1", key: "T_ISP_Th_rep1", icon: false},
			      {title:"T_ISP_Th_rep2", key: "T_ISP_Th_rep2", icon: false},
			      {title:"Treg_4_25hi_Sp_rep3", key: "Treg_4_25hi_Sp_rep3", icon: false},
			      {title:"Treg_4_25hi_Sp_rep4", key: "Treg_4_25hi_Sp_rep4", icon: false},
			      {title:"Treg_4_FP3+_Nrplo_Co_rep1", key: "Treg_4_FP3%2B_Nrplo_Co_rep1", icon: false},
			      {title:"Treg_4_FP3+_Nrplo_Co_rep2", key: "Treg_4_FP3%2B_Nrplo_Co_rep2", icon: false},
			      {title:"NKT_Sp_LPS_18hr_rep1", key: "NKT_Sp_LPS_18hr_rep1", icon: false},
			      {title:"NKT_Sp_LPS_18hr_rep2", key: "NKT_Sp_LPS_18hr_rep2", icon: false},
			      {title:"NKT_Sp_LPS_3d_rep1", key: "NKT_Sp_LPS_3d_rep1", icon: false},
			      {title:"NKT_Sp_LPS_3d_rep2", key: "NKT_Sp_LPS_3d_rep2", icon: false},
			      {title:"NKT_Sp_LPS_3hr_rep1", key: "NKT_Sp_LPS_3hr_rep1", icon: false},
			      {title:"NKT_Sp_LPS_3hr_rep2", key: "NKT_Sp_LPS_3hr_rep2", icon: false},
			      {title:"NKT_Sp_rep3", key: "NKT_Sp_rep3", icon: false},
			      {title:"NKT_Sp_rep4", key: "NKT_Sp_rep4", icon: false}
		
			  ]
			 },
			 
			 {title: "B cells", isFolder: true, key: "B cells", icon: false,
			  children: [
			      {title:"B1b_PC_rep1", key: "B1b_PC_rep1", icon: false},
			      {title:"B1b_PC_rep2", key: "B1b_PC_rep2", icon: false},
			      {title:"B_Fem_Sp_rep3", key: "B_Fem_Sp_rep3", icon: false},
			      {title:"B_Fem_Sp_rep4", key: "B_Fem_Sp_rep4", icon: false},
			      {title:"B_Fo_Sp_rep1", key: "B_Fo_Sp_rep1", icon: false},
			      {title:"B_Fo_Sp_rep2", key: "B_Fo_Sp_rep2", icon: false},
			      {title:"B_Fo_Sp_rep3", key: "B_Fo_Sp_rep3", icon: false},
			      {title:"B_FrE_BM_rep1", key: "B_FrE_BM_rep1", icon: false},
			      {title:"B_FrE_BM_rep2", key: "B_FrE_BM_rep2", icon: false},
			      {title:"B_GC_CB_Sp_rep1", key: "B_GC_CB_Sp_rep1", icon: false},
			      {title:"B_GC_CB_Sp_rep2", key: "B_GC_CB_Sp_rep2", icon: false},
			      {title:"B_GC_CC_Sp_rep1", key: "B_GC_CC_Sp_rep1", icon: false},
			      {title:"B_GC_CC_Sp_rep2", key: "B_GC_CC_Sp_rep2", icon: false},
			      {title:"B_mem_Sp_rep1", key: "B_mem_Sp_rep1", icon: false},
			      {title:"B_mem_Sp_rep2", key: "B_mem_Sp_rep2", icon: false},
			      {title:"B_MZ_Sp_rep1", key: "B_MZ_Sp_rep1", icon: false},
			      {title:"B_MZ_Sp_rep2", key: "B_MZ_Sp_rep2", icon: false},
			      {title:"B_PB_Sp_rep1", key: "B_PB_Sp_rep1", icon: false},
			      {title:"B_PB_Sp_rep3", key: "B_PB_Sp_rep3", icon: false},
			      {title:"B_PC_BM_rep1", key: "B_PC_BM_rep1", icon: false},
			      {title:"B_PC_BM_rep2", key: "B_PC_BM_rep2", icon: false},
			      {title:"B_PC_Sp_rep1", key: "B_PC_Sp_rep1", icon: false},
			      {title:"B_PC_Sp_rep3", key: "B_PC_Sp_rep3", icon: false},
			      {title:"B_Sp_rep3", key: "B_Sp_rep3", icon: false},
			      {title:"B_Sp_rep4", key: "B_Sp_rep4", icon: false},
			      {title:"B_T1_Sp_rep1", key: "B_T1_Sp_rep1", icon: false},
			      {title:"B_T1_Sp_rep2", key: "B_T1_Sp_rep2", icon: false},
			      {title:"B_T2_Sp_rep1", key: "B_T2_Sp_rep1", icon: false},
			      {title:"B_T2_Sp_rep2", key: "B_T2_Sp_rep2", icon: false},
			      {title:"B_T3_Sp_rep1", key: "B_T3_Sp_rep1", icon: false},
			      {title:"B_T3_Sp_rep2", key: "B_T3_Sp_rep2", icon: false},
			      {title:"preB_FrD_BM_rep1", key: "preB_FrD_BM_rep1", icon: false},
			      {title:"preB_FrD_BM_rep2", key: "preB_FrD_BM_rep2", icon: false},
			      {title:"proB_CLP_BM_rep1", key: "proB_CLP_BM_rep1", icon: false},
			      {title:"proB_CLP_BM_rep2", key: "proB_CLP_BM_rep2", icon: false},
			      {title:"proB_FrA_BM_rep1", key: "proB_FrA_BM_rep1", icon: false},
			      {title:"proB_FrA_BM_rep2", key: "proB_FrA_BM_rep2", icon: false},
			      {title:"proB_FrBC_BM_rep1", key: "proB_FrBC_BM_rep1", icon: false},
			      {title:"proB_FrBC_BM_rep2", key: "proB_FrBC_BM_rep2", icon: false}
			  ]
			 },
			 
			 {title: "Dendritic cells", isFolder: true, key: "Dendritic cells", icon: false,
			  children: [
			      {title:"DC_103+11b-_SI_rep1", key: "DC_103%2B11b-_SI_rep1", icon: false},
			      {title:"DC_103+11b-_SI_rep2", key: "DC_103%2B11b-_SI_rep2", icon: false},
			      {title:"DC_103+11b+_SI_rep1", key: "DC_103%2B11b%2B_SI_rep1", icon: false},
			      {title:"DC_103+11b+_SI_rep2", key: "DC_103%2B11b%2B_SI_rep2", icon: false},
			      {title:"DC_4+_Sp_rep1", key: "DC_4%2B_Sp_rep1", icon: false},
			      {title:"DC_4+_Sp_rep2", key: "DC_4%2B_Sp_rep2", icon: false},
			      {title:"DC_8+_Sp_rep1", key: "DC_8%2B_Sp_rep1", icon: false},
			      {title:"DC_8+_Sp_rep3", key: "DC_8%2B_Sp_rep3", icon: false},
			      {title:"DC_pDC_Sp_rep1", key: "DC_pDC_Sp_rep1", icon: false},
			      {title:"DC_pDC_Sp_rep3", key: "DC_pDC_Sp_rep3", icon: false}
			  ]
			 },
			 
			 {title: "gd T cells", isFolder: true, key: "gd T cells", icon: false,
			  children: [
			      {title:"Tgd_g1_1+d1_24a+_Th_rep1", key: "Tgd_g1_1%2Bd1_24a%2B_Th_rep1", icon: false},
			      {title:"Tgd_g1_1+d1_24a+_Th_rep2", key: "Tgd_g1_1%2Bd1_24a%2B_Th_rep2", icon: false},
			      {title:"Tgd_g1_1+d1_LN_rep1", key: "Tgd_g1_1%2Bd1_LN_rep1", icon: false},
			      {title:"Tgd_g1_1+d1_LN_rep2", key: "Tgd_g1_1%2Bd1_LN_rep2", icon: false},
			      {title:"Tgd_g2+d1_24a+_Th_rep1", key: "Tgd_g2%2Bd1_24a%2B_Th_rep1", icon: false},
			      {title:"Tgd_g2+d1_24a+_Th_rep2", key: "Tgd_g2%2Bd1_24a%2B_Th_rep2", icon: false},
			      {title:"Tgd_g2+d17_24a+_Th_rep1", key: "Tgd_g2%2Bd17_24a%2B_Th_rep1", icon: false},
			      {title:"Tgd_g2+d17_24a+_Th_rep2", key: "Tgd_g2%2Bd17_24a%2B_Th_rep2", icon: false},
			      {title:"Tgd_g2+d17_LN_rep1", key: "Tgd_g2%2Bd17_LN_rep1", icon: false},
			      {title:"Tgd_g2+d17_LN_rep2", key: "Tgd_g2%2Bd17_LN_rep2", icon: false},
			      {title:"Tgd_g2+d1_LN_rep1", key: "Tgd_g2%2Bd1_LN_rep1", icon: false},
			      {title:"Tgd_g2+d1_LN_rep2", key: "Tgd_g2%2Bd1_LN_rep2", icon: false},
			      {title:"Tgd_Sp_rep3", key: "Tgd_Sp_rep3", icon: false},
			      {title:"Tgd_Sp_rep5", key: "Tgd_Sp_rep5", icon: false}
			  ]
			 },
			 
			 {title: "Granulocytes", isFolder: true, key: "Granulocytes", icon: false,
			  children: [
			      {title:"GN_BM_rep1", key: "GN_BM_rep1", icon: false},
			      {title:"GN_BM_rep2", key: "GN_BM_rep2", icon: false},
			      {title:"GN_Sp_rep3", key: "GN_Sp_rep3", icon: false},
			      {title:"GN_Sp_rep4", key: "GN_Sp_rep4", icon: false},
			      {title:"GN_Thio_PC_rep2", key: "GN_Thio_PC_rep2", icon: false},
			      {title:"GN_Thio_PC_rep3", key: "GN_Thio_PC_rep3", icon: false},
			      {title:"GN_Thio_PC_rep4", key: "GN_Thio_PC_rep4", icon: false}
			  ]
			 },
			 
			 {title: "Innate Lymphocytes", isFolder: true, key: "Innate Lymphocytes", icon: false,
			  children: [
			      {title:"ILC2_SI_rep1", key: "ILC2_SI_rep1", icon: false},
			      {title:"ILC2_SI_rep2", key: "ILC2_SI_rep2", icon: false},
			      {title:"ILC3_CCR6+_SI_rep1", key: "ILC3_CCR6%2B_SI_rep1", icon: false},
			      {title:"ILC3_CCR6+_SI_rep2", key: "ILC3_CCR6%2B_SI_rep2", icon: false},
			      {title:"ILC3_NKp46-CCR6-_SI_rep1", key: "ILC3_NKp46-CCR6-_SI_rep1", icon: false},
			      {title:"ILC3_NKp46-CCR6-_SI_rep2", key: "ILC3_NKp46-CCR6-_SI_rep2", icon: false},
			      {title:"ILC3_NKp46+_SI_rep1", key: "ILC3_NKp46%2B_SI_rep1", icon: false},
			      {title:"ILC3_NKp46+_SI_rep2", key: "ILC3_NKp46%2B_SI_rep2", icon: false},
			      {title:"NK_27-11b+_BM_rep1", key: "NK_27-11b%2B_BM_rep1", icon: false},
			      {title:"NK_27-11b+_BM_rep2", key: "NK_27-11b%2B_BM_rep2", icon: false},
			      {title:"NK_27+11b-_BM_rep1", key: "NK_27%2B11b-_BM_rep1", icon: false},
			      {title:"NK_27+11b-_BM_rep2", key: "NK_27%2B11b-_BM_rep2", icon: false},
			      {title:"NK_27+11b+_BM_rep1", key: "NK_27%2B11b%2B_BM_rep1", icon: false},
			      {title:"NK_27+11b+_BM_rep2", key: "NK_27%2B11b%2B_BM_rep2", icon: false},
			      {title:"NK_27-11b+_Sp_rep1", key: "NK_27-11b%2B_Sp_rep1", icon: false},
			      {title:"NK_27-11b+_Sp_rep2", key: "NK_27-11b%2B_Sp_rep2", icon: false},
			      {title:"NK_27+11b-_Sp_rep1", key: "NK_27%2B11b-_Sp_rep1", icon: false},
			      {title:"NK_27+11b-_Sp_rep2", key: "NK_27%2B11b-_Sp_rep2", icon: false},
			      {title:"NK_27+11b+_Sp_rep1", key: "NK_27%2B11b%2B_Sp_rep1", icon: false},
			      {title:"NK_27+11b+_Sp_rep2", key: "NK_27%2B11b%2B_Sp_rep2", icon: false}
			  ]
			 },
			 
			 {title: "Macrophages", isFolder: true, key: "Macrophages", icon: false,
			  children: [
			      {title:"MF_226+II+480lo_PC_rep1", key: "MF_226%2BII%2B480lo_PC_rep1", icon: false },
			      {title:"MF_226+II+480lo_PC_rep2", key: "MF_226%2BII%2B480lo_PC_rep2", icon: false },
			      {title:"MF_Alv_Lu_rep1", key: "MF_Alv_Lu_rep1", icon: false},
			      {title:"MF_Alv_Lu_rep2", key: "MF_Alv_Lu_rep2", icon: false},
			      {title:"MF_Fem_PC_rep1", key: "MF_Fem_PC_rep1", icon: false},
			      {title:"MF_Fem_PC_rep2", key: "MF_Fem_PC_rep2", icon: false},
			      {title:"MF_102+480+_PC_rep1", key: "MF_102%2B480%2B_PC_rep1", icon: false},
			      {title:"MF_102+480+_PC_rep2", key: "MF_102%2B480%2B_PC_rep2", icon: false},
			      {title:"MF_102+480+_PC_rep3", key: "MF_102%2B480%2B_PC_rep3", icon: false},
			      {title:"MF_102+480+_PC_rep4", key: "MF_102%2B480%2B_PC_rep4", icon: false},
			      {title:"MF_microglia_CNS_rep1", key: "MF_microglia_CNS_rep1", icon: false},
			      {title:"MF_microglia_CNS_rep3", key: "MF_microglia_CNS_rep3", icon: false},
			      {title:"MF_PC_rep3", key: "MF_PC_rep3", icon: false},
			      {title:"MF_PC_rep4", key: "MF_PC_rep4", icon: false},
			      {title:"MF_pIC_Alv_Lu_rep1", key: "MF_pIC_Alv_Lu_rep1", icon: false},
			      {title:"MF_pIC_Alv_Lu_rep2", key: "MF_pIC_Alv_Lu_rep2", icon: false},
			      {title:"MF_RP_Sp_rep1", key: "MF_RP_Sp_rep1", icon: false},
			      {title:"MF_RP_Sp_rep2", key: "MF_RP_Sp_rep2", icon: false},
			      {title:"MF_SI_rep1", key: "MF_SI_rep1", icon: false},
			      {title:"MF_SI_rep2", key: "MF_SI_rep2", icon: false}
			  ]
			 },
			 
			 {title: "Monocytes", isFolder: true, key: "Monocytes", icon: false,
		          children: [
		
			      {title:"Mo_6C+II-_Bl_rep1", key:"Mo_6C%2BII-_Bl_rep1", icon: false },
			      {title:"Mo_6C+II-_Bl_rep2", key:"Mo_6C%2BII-_Bl_rep2", icon: false },
			      {title:"Mo_6C+II-_Bl_rep3", key:"Mo_6C%2BII-_Bl_rep3", icon: false },
			      {title:"Mo_6C-II-_Bl_rep1", key:"Mo_6C-II-_Bl_rep1", icon: false },
			      {title:"Mo_6C-II-_Bl_rep2", key:"Mo_6C-II-_Bl_rep2", icon: false },
			      {title:"Mo_6C-II-_Bl_rep3", key:"Mo_6C-II-_Bl_rep3", icon: false }
		
			  ]},
			  
			  {title: "Stem Cells", isFolder: true, key: "Stem Cells", icon: false,
			  children: [
			      {title:"LTHSC_34-_BM_rep1", key: "LTHSC_34-_BM_rep1", icon: false },
			      {title:"LTHSC_34+_BM_rep1", key: "LTHSC_34%2B_BM_rep1", icon: false},
			      {title:"MMP3_48+_BM_rep1", key: "MMP3_48%2B_BM_rep1", icon: false},
			      {title:"MMP4_135+_BM_rep1", key: "MMP4_135%2B_BM_rep1", icon: false},
			      {title:"STHSC_150-_BM_rep1", key: "STHSC_150-_BM_rep1", icon: false}
		
			  ]
			 },
			 
			 {title: "Stromal cells", isFolder: true, key: "Stromal cells", icon: false,
		          children: [
		              {title:"BEC_SLN_rep2", key:"BEC_SLN_rep2", icon: false },
		              {title:"BEC_SLN_rep3", key:"BEC_SLN_rep3", icon: false },
			      {title:"Ep_MEChi_Th_rep1", key:"Ep_MEChi_Th_rep1", icon: false },
			      {title:"Ep_MEChi_Th_rep2", key:"Ep_MEChi_Th_rep2", icon: false },
			      {title:"FRC_CD140a+_Madcam-_CD35-_SLN_rep2", key:"FRC_CD140a%2B_Madcam-_CD35-_SLN_rep2", icon: false },
			      {title:"FRC_CD140a+_Madcam-_CD35-_SLN_rep3", key:"FRC_CD140a%2B_Madcam-_CD35-_SLN_rep3", icon: false },
			      {title:"LEC_SLN_rep2", key:"LEC_SLN_rep2", icon: false },
			      {title:"LEC_SLN_rep3", key:"LEC_SLN_rep3", icon: false },
			      {title:"IAP_SLN_rep1", key:"IAP_SLN_rep1", icon: false },
			      {title:"IAP_SLN_rep2", key:"IAP_SLN_rep2", icon: false }
			  ]}
		
		         
		     ] 
		    }
		
		];
		
		$(function(){
		
		    // --- Initialize sample trees
		
		    $("#chromatin1_tree").dynatree({
			checkbox: true,
		        minExpandLevel:2,
			selectMode: 3,
			autoCollapse: true,
			children: treeData1,
			onSelect: function(select, node) {
			    // Get a list of all selected nodes, and convert to a key array:
			    var selKeys = $.map(node.tree.getSelectedNodes(), function(node){
				if (node.hasChildren() == false) { return node.data.key; }
			    });
			    //$("#echoSelection3").text(selKeys.join(", "));
			    $("#Grp1").text(selKeys.join(","));
		
		
			    // Get a list of all selected TOP nodes
			    var selRootNodes = node.tree.getSelectedNodes(true);
			    // ... and convert to a key array:
			    var selRootKeys = $.map(selRootNodes, function(node){
				return node.data.key;
			    });
			    
			    //$("#echoSelectionRootKeys3").text(selRootKeys.join(", "));
			    //$("#echoSelectionRoots3").text(selRootNodes.join(", "));
			},
			onDblClick: function(node, event) {
			    node.toggleSelect();
			},
			onActivate: function(node) {
				if( node.data.url ) window.open(node.data.url);
			}
			// The following options are only required, if we have more than one tree on one page:
			//				initId: "treeData",
			//cookieId: "dynatree-Cb3",
			//idPrefix: "dynatree-Cb3-"
		    });
		
		     $("#chromatin2_tree").dynatree({
			checkbox: true,
		        minExpandLevel:2,
			selectMode: 3,
			autoCollapse: true,
			children: treeData2,
			onSelect: function(select, node) {
			    // Get a list of all selected nodes, and convert to a key array:
			    var selKeys = $.map(node.tree.getSelectedNodes(), function(node){
				if (node.hasChildren() == false) { return node.data.key; }
			    });
			    //$("#echoSelection3").text(selKeys.join(", "));
			    $("#Grp2").text(selKeys.join(","));
		
		
			    // Get a list of all selected TOP nodes
			    var selRootNodes = node.tree.getSelectedNodes(true);
			    // ... and convert to a key array:
			    var selRootKeys = $.map(selRootNodes, function(node){
				return node.data.key;
			    });
			    
			    //$("#echoSelectionRootKeys3").text(selRootKeys.join(", "));
			    //$("#echoSelectionRoots3").text(selRootNodes.join(", "));
			},
			onDblClick: function(node, event) {
			    node.toggleSelect();
			},
		
			// The following options are only required, if we have more than one tree on one page:
			//				initId: "treeData",
			//cookieId: "dynatree-Cb3",
			//idPrefix: "dynatree-Cb3-"
		    });
		    
		    $("#skinCombo")
			.val(0) // set state to prevent caching
			.change(function(){
			    var href = "../src/"
				+ $(this).val()
				+ "/ui.dynatree.css"
				+ "?reload=" + new Date().getTime();
			    $("#skinSheet").attr("href", href);
			});
		
		});
      		
		var jsonText = $.ajax({                                         
 			datatype: 'json',      
 			url: 'resources/mm10_refgene.json',               
			async: false
		}).responseText;
		var temp = JSON.parse(jsonText);
		
		var gene_info = [];
		var hashtable = new Object();
		
		for(var k in temp) { 
			var keyname = temp[k]['name'] + " (" + temp[k]['desc'] + ")";
			gene_info.push(keyname);
			hashtable[keyname] = [temp[k]['chr'],  temp[k]['start'],  temp[k]['end'], temp[k]['tss']];
		}
				
		
		var genes = new Bloodhound({
			datumTokenizer: Bloodhound.tokenizers.whitespace,
			queryTokenizer: Bloodhound.tokenizers.whitespace,
			local: gene_info
		})

		$('#GeneList .typeahead').typeahead({
		  hint: true,
		  highlight: true,
		  minLength: 1
		},
		{
		  name: 'genes',
		  limit: 10,
		  source: genes
		});

		
		function submit_download_form(output_format)
      		{
			// Get the d3js SVG element
			var tmp = document.getElementById("chart");
			var svg = tmp.getElementsByTagName("svg")[0];
			// Extract the data as SVG text string
			var svg_xml = (new XMLSerializer).serializeToString(svg);
                	
			// Submit the <FORM> to the server.
			// The result will be an attachment file to download.
			var form = document.getElementById("svgform");
			form['output_format'].value = output_format;
			form['data'].value = svg_xml ;
			form.submit();
		}
		
		
		function print_div(sel) {
			var printContents = document.getElementById("chart").innerHTML;
			var gene_regulator = document.getElementById('regulator_list').value;
			var gene_target = document.getElementById('target_list').value;
			var originalContents = document.body.innerHTML;
			
			document.body.innerHTML = printContents;
			window.location.reload();
			window.print();
			
			//document.body.innerHTML = originalContents;
			//document.location = "http://rstats.immgen.org/IFN/network.html";
			//history.go(0);
			//window.location.href = "http://rstats.immgen.org/IFN/network.html";
			//window.location = window.location.href+'?eraseCache=true';
			
			
		}
		
				
		$(document).ready(function() {
			
			$("#view_ucsc1").click(function(){
				var myGrp = $( "#Grp1" ).text();
				var myGene = $("#Gene1").val();
				
				if(!myGrp) {
					alert ("Please select the populations of interest\n");
				}
				else if(gene_info.indexOf(myGene) == -1) 
				{ 
					alert ("The input gene is not in the list of RefSeq Genes\n"); 
				}
				else {
					var ucsc_link_filename = Math.floor(Date.now() / 1000);
   					$.ajax({
   					   type:'POST',
   					   cache: false,
   					   url:'process.php',
   					   data: { 'group': myGrp, 'filename': ucsc_link_filename},
   					   async: false
   					});
   					   					
   					var offset =  document.getElementById('spinner1').value;
   					var start_pos = parseInt(hashtable[myGene][1]) - parseInt(offset)*1000;
   					var end_pos = parseInt(hashtable[myGene][2]) + parseInt(offset)*1000;
   					window.open( 'https://genome.ucsc.edu/cgi-bin/hgTracks?db=mm10&position=' + hashtable[myGene][0] + '%3A' + start_pos.toString() + '-' + end_pos.toString() + '&hgct_customText=http://rstats.immgen.org/Chromatin/tmp/' + ucsc_link_filename + '.txt', '_blank');
   					window.focus();
   					window.location.reload();
   				}
   			});
   			
   			//$("#view_ucsc2").click(function(){
			//	var myGrp = $( "#Grp2" ).text();
			//	var myGene = $("#Gene2").val();
			//	
			//	if(!myGrp) {
			//		alert ("Please select the populations of interest\n");
			//	}
			//	else if(gene_info.indexOf(myGene) == -1) 
			//	{ 
			//		alert ("The input gene is not in the list of RefSeq Genes\n"); 
			//	}
			//	else {
			//		var ucsc_link_filename = Math.floor(Date.now() / 1000);
   			//		$.ajax({
   			//		   type:'POST',
   			//		   cache: false,
   			//		   url:'process_replicates.php',
   			//		   data: { 'group': myGrp, 'filename': ucsc_link_filename},
   			//		   async: false
   			//		});
   			//		   					
   			//		var offset =  document.getElementById('spinner2').value;
   			//		var start_pos = parseInt(hashtable[myGene][1]) - parseInt(offset)*1000;
   			//		var end_pos = parseInt(hashtable[myGene][2]) + parseInt(offset)*1000;
   			//		window.open( 'https://genome.ucsc.edu/cgi-bin/hgTracks?db=mm10&position=' + hashtable[myGene][0] + '%3A' + start_pos.toString() + '-' + end_pos.toString() + '&hgct_customText=http://rstats.immgen.org/Chromatin/tmp/' + ucsc_link_filename + '.txt', '_blank');
   			//		window.focus();
   			//		window.location.reload();
   			//	}
   			//});
   			
   			$("#save_table1").click(function(){
				var myGrp = $( "#Grp1" ).text();
				var myGene = $("#Gene1").val();
				if(gene_info.indexOf(myGene) == -1) 
				{ 
					alert ("The input gene is not in the list of RefSeq Genes\n"); 
				}
				else if(!myGrp) {
					alert ("Please select the populations of interest\n");
				}
				else {
					var offset =  document.getElementById('spinner1').value;
   					//var start_pos = parseInt(hashtable[myGene][1]) - parseInt(offset)*1000;
   					//var end_pos = parseInt(hashtable[myGene][2]) + parseInt(offset)*1000;
   					
   					var tss = hashtable[myGene][3];
   					var end = hashtable[myGene][2];
   					if(parseInt(hashtable[myGene][2]) == parseInt(hashtable[myGene][3])) {
   						end = hashtable[myGene][1];
   					}
					//$.ajax({
   					//   type:'POST',
   					//   url:'download_peak_table.php',
   					//   data: {'chr': hashtable[myGene][0], 'offset': parseInt(offset)*1000, 'tss': hashtable[myGene][3]},
   					//   //data: {'groups': "<?php echo $groups ?>", 'groups_num': "<?php echo $grp_num ?>", 'genes': "<?php echo $genes ?>"},
   					//   async: false
   					//});
   					//alert(myGrp);
   					window.open( 'http://rstats.immgen.org/Chromatin/download_peak_table.php?chr=' + hashtable[myGene][0] + '&offset=' + parseInt(offset)*1000 + '&tss=' + tss + '&end=' + end + '&group=' + myGrp );
   				}
   			});
   			
   			//$("#view_ucsc2").click(function(){
			//	var myGrp = $( "#Grp2" ).text();
			//	var myGene = $("#Gene2").val();
			//	if(gene_info.indexOf(myGene) == -1) 
			//	{ 
			//		alert ("The input gene is not in the list of RefSeq Genes\n"); 
			//	}
			//	else if(!myGrp) {
			//		alert ("Please select the populations of interest\n");
			//	}
			//	else {
			//		var ucsc_link_filename = Math.floor(Date.now() / 1000);
   			//		$.ajax({
   			//		   type:'POST',
   			//		   cache: false,
   			//		   url:'process.php',
   			//		   data: { 'group': myGrp, 'filename': ucsc_link_filename},
   			//		   async: false
   			//		});
   			//		
   			//		var offset =  document.getElementById('spinner2').value;
   			//		var start_pos = parseInt(hashtable[myGene][1]) - parseInt(offset)*1000;
   			//		var end_pos = parseInt(hashtable[myGene][2]) + parseInt(offset)*1000;
   			//		window.open( 'https://genome.ucsc.edu/cgi-bin/hgTracks?db=mm10&position=' + hashtable[myGene][0] + '%3A' + start_pos.toString() + '-' + end_pos.toString() + '&hgct_customText=http://rstats.immgen.org/Chromatin/tmp/' + ucsc_link_filename + '.txt', '_blank');
   			//		window.focus();
   			//		window.location.reload();
   			//	}
   			//});
   			
   			//$("#save_table2").click(function(){
			//	var myGrp = $( "#Grp2" ).text();
			//	var myGene = $("#Gene2").val();
			//	if(gene_info.indexOf(myGene) == -1) 
			//	{ 
			//		alert ("The input gene is not in the list of RefSeq Genes\n"); 
			//	}
			//	//else if(!myGrp) {
			//	//	alert ("Please select the populations of interest\n");
			//	//}
			//	else {
			//		var offset =  document.getElementById('spinner2').value;
   			//		window.open( 'http://rstats.immgen.org/Chromatin/download_peak_table.php?chr=' + hashtable[myGene][0] + '&offset=' + parseInt(offset)*1000 + '&tss=' + hashtable[myGene][3] );
   			//	}
   			//});
   			
   			
		});
		
	</script>
  
</body>
</html>
